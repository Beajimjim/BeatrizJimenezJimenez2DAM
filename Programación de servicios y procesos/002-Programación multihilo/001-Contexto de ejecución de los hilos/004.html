
<!doctype html>
<html>
	<head>
		<!-- Título de la página que aparece en la pestaña del navegador -->
		<title>Tarea Aleatoria</title>
	</head>
	<body>
		<!-- Campo de entrada para que el usuario ingrese su nombre -->
		<!-- 'placeholder' muestra un texto guía dentro del campo antes de que el usuario empiece a escribir -->
		<input placeholder="Ingresa tu nombre">

		<script>
			// Selecciona el campo de entrada usando 'querySelector'
			// 'querySelector("input")' busca el primer elemento <input> en la página
			var entrada = document.querySelector("input");

			// Asigna una función al evento 'onchange' del campo de entrada
			// 'onchange' se activa cuando el usuario cambia el contenido del input y sale del campo (por ejemplo, al presionar "Enter")
			entrada.onchange = function() {
				// Muestra en la consola del navegador el nombre ingresado por el usuario
				console.log("Ok te has identificado como", this.value);

				// Realiza una solicitud al servidor usando 'fetch'
				// 'fetch("004.php")' hace una solicitud HTTP GET al archivo '004.php' en el servidor
				fetch("004.php")
					// 'then(response => response.text())' recibe la respuesta del servidor y la procesa como texto
					.then(response => response.text())
					// 'then(datos => { ... })' recibe el texto procesado y ejecuta una función con esos datos
					.then(datos => {
						// Muestra un mensaje en la consola indicando que se ha asignado una tarea
						console.log("Te ha tocado la tarea:");
						// Muestra el contenido de la tarea en la consola del navegador
						console.log(datos);
					});
			};
		</script>
	</body>
</html>
